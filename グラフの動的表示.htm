<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="text/css">
<title>グラフの動的表示</title>

<style type="text/css">
.MoveGraph {					
	border: 1px solid #black;	
	background-color: #black;	
	text-align: center;	
	}	
</style>

<script type="text/javascript">
<!--
var ele, max, count = 0;
var widthList = new Array();

	function getGraph() {
		if (!document.getElementsByTagName) return;
        	
		ele = document.getElementsByTagName("div");
		if (!ele) return;
        	
		var tmp = new Array();
		for (var i = 0; i < ele.length; i++) {
			tmp[i] = widthList[i] = ele.item(i).style.width.replace("%", "");
		}
		max = tmp.sort(function(a, b) { return(b - a); })[0];
        	
		(widthList) && graph();
	}

	function graph() {
		for (var i = 0; i < widthList.length; i++) {
			ele.item(i).style.width = count + "%";
			ele.item(i).innerHTML = count + "%";
        	
			if (count >= widthList[i]) {
				if (widthList[i].indexOf(".") == -1 && widthList[i] != 0) {
					widthList[i] += ".0";
				}
				ele.item(i).innerHTML = ele.item(i).style.width = widthList[i] + "%";
			}
		}
		if (count < max) setTimeout("graph();", 50);
		count += 2;
	}
// -->
</script>
</head>
	<body onload="getGraph();">
		<table width="500">
			<tr>
				<td><div style="width: 10%;" class="MoveGraph">&nbsp;</div></td>
			</tr>
			<tr>
				<td><div style="width: 40%;" class="MoveGraph">&nbsp;</div></td>
			</tr>
			<tr>
				<td><div style="width: 70%;" class="MoveGraph">&nbsp;</div></td>
			</tr>
			<tr>
				<td><div style="width: 100%;" class="MoveGraph">&nbsp;</div></td>
			</tr>
			<tr>
				<td><div style="width: 77.7%;" class="MoveGraph">&nbsp;</div></td>
			</tr>
		</table>
	</body>
</html>